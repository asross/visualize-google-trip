<html>
<head>
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script>

var originAddress = "";
var destinationAddress = "";
var travelMode = "WALKING";

var directionsService = new google.maps.DirectionsService();

request = {
  origin: originAddress,
  destination: destinationAddress,
  travelMode: google.maps.TravelMode[travelMode]
};

directionsService.route(request, function(response, status) {
  var html = "<ul>";
  response.routes[0].legs.forEach(function(leg) {

    leg.steps.forEach(function(step) {
      html += "<li>"+"<h3>"+step.instructions+"</h3>";
      step.lat_lngs.forEach(function(point) {
        html += '<img src="https://maps.googleapis.com/maps/api/streetview?size=200x200&location=' + point.toString().replace(/[\(\) ]/g, '') + '">';
      });
      html += "</li>";
    });
  });
  html += "</ul>";

  el = document.getElementById('trip');
  el.innerHTML = html;
});


</script>
</head>

<body>
  <input type='text' id='origin'/>
  <input type='text' id='destination'/>
  <select id='travel-mode'>
    <option value='DRIVING'>Driving</option>
    <option value='BICYCLING'>Bicycling</option>
    <option value='WALKING'>Walking</option>
  </select>
  <input type='submit' id='get-trip-images'/>

  <div id='trip'>
  </div>
</body>

</html>
